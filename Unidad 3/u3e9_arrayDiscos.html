<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
Haz un programa que gestione una lista de discos, utilizando las funciones 
para manejar el objeto de tipo disco que has creado en el primer ejercicio.

Crea un array vacío para almacenar los discos.
Cuando el usuario cargue la página, se mostrarán las opciones:
	Mostrar número de discos.
	Mostrar listado de discos (y le preguntará si quiere mostrarlos en el orden que se encuentran en el array, del revés u ordenados alfabéticamente).
	Mostrar un intervalo de discos (y le pedirá que introduzca el intervalo en formato inicio-fin; luego deberás extraer el valor inicio y fin).
	Añadir un disco (y le preguntará si quiere añadir al principio o al final).
	Borrar un disco (y le preguntará si quiere borrar al principio o al final).
	Consultar un disco (y le preguntará si quiere consultar por posición o por nombre).
	Todas las operaciones que se realicen se irán mostrando en la página con su título
*/
        
        //Costructor 1 con parámetros
        //function Disco(nom="",grup="",anio="",tipo="",localiza=0){ 
            //Para usar un constructor sin parametros
            function Disco(nom,grup,anio,tipo,localiza,pres){

                this.nombre=nom || "";
                // if (nom== undefined) this.nombre = "";
                // this.nombre = (nom== undefined)? "": nom;
                this.grupo=grup || "";
                this.anio=anio || "";
                this.tipo=tipo || "";
                this.localizacion= localiza || 0;
                this.prestado= pres; 

                this.cambiarEstan = function(){
                    numero= prompt("Introduce el nuevo número de estantería: ");
                    this.localizacion= numero;
                }

                this.devolver = function(devolver){

                    if(devolver==true){ //devolver un disco
                        if( this.prestado == false){ //si el disco esta en la biblioteca no se puede devolver
                            alert("El disco se encuentra ya en la biblioteca"); 
                        }else{  //si prestado es true si se devuelve
                            this.prestado = false;//el disco pasa a no estar prestado
                            alert("Disco devuelto");
                        }

                    }else{//no devolver un disco, prestarlo
                        if( this.prestado == true){ //si el disco ya se ha prestado no se puede volver a prestar
                            alert("El disco el disco ya se había prestado"); 
                        }else{
                            this.prestado = true;
                            alert("Disco prestado ");
                        }
                    }

                }

                this.muestraInfo = function(){
                    document.write("Disco : <br> Nombre: " + this.nombre +
                    "<br>Grupo: " + this.grupo + "<br>Año: " + this.anio + "<br>Tipo: " + this.tipo 
                    + "<br>Localización: " + this.localizacion + "<br>Prestado: " + this.prestado + "<br>" );
                }
            }
        
    opcion=prompt("1.Mostrar número de discos\n" + "2.Mostrar listado de discos (y le preguntará si quiere mostrarlos en el orden"+
    " que se encuentran en el array, del revés u ordenados alfabéticamente).\n" +
	"3.Mostrar un intervalo de discos (y le pedirá que introduzca el intervalo en formato inicio-fin;"
     +"luego deberás extraer el valor inicio y fin)\n"
	+"4.Añadir un disco (y le preguntará si quiere añadir al principio o al final).\n"
	+"5.Borrar un disco (y le preguntará si quiere borrar al principio o al final).\n"
	+"6.Consultar un disco (y le preguntará si quiere consultar por posición o por nombre).\n"
	+"7.Todas las operaciones que se realicen se irán mostrando en la página con su título);\n"
    + "Introduce una opción del menú:\n");

    var d1 = new Disco("Top 100","Elvis",1992,"rock",4,true);

    var vector=[];
    vector.push(d1);

    switch(opcion){
                case "1":
                    alert("Hay " + vector.length + " discos");
                    break; 
                case "2": 
                     mostrarListado("n",vector);
                     break;   
                case "3": 
                     mostrarIntervalo(0,1,vector);
                     break;  
            }

        
    function mostrarListado(orden,vector){
        if(orden=="reves"){
            mprimirListaReversa(vector);
        }else if (orden=="alf"){
            imprimirLista(vector);
        }else if(orden=="n"){
            alert("Orden normal");
            imprimirLista(vector);
        }
    }       

    function mostrarIntervalo(ini,fin,vector){
        document.write("rango, inicio: " + ini + " fin " + fin + "<br>");
        if(ini< fin && fin<= vector.length && ini>=0){
            for(var i=ini;i<fin;i++){
                document.write("Disco " + (i+1) + ": <br>")
                vector[i].muestraInfo(); 
            }
        }else{
            alert("rango incorrecto");
        }
    }


    function imprimirLista(vector){
        for(var i=0;i<vector.length;i++){
           Document.write("Disco " + i+1 + ": <br>")
           vector[i].muestraInfo(); 
           
        }
    }

    function imprimirListaReversa(vector){
        for(var i=vector.length-1;i>=0;i--){
           vector[i].muestraInfo(); 
        }
    }


        function anadirDisco(disco,op){
            if(op=="principio"){
                alert("<br>Disco insertado al inicio");
            }else if(op=="final"){
                alert("<br>Disco insertado al final");
            }
        }








       
        function imprimir(vector){
            document.write("<br>");
            for(var i=0;i<vector.length;i++){    
                    document.write(vector[i] + " ") ;
            }
            document.write("<br>");
        }



    </script>
</body>
</html>